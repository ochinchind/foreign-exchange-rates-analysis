
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script
    src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js">
    </script>
    <title>Exchange Rates</title>
</head>
<body>
    <h1>Exchange Rates</h1>
    <div>
        <canvas id="myChart" style="width:100%;max-width:700px"></canvas>
    </div>



    <table class="table">
        <thead>
            <tr>
                <th scope="col">Date</th>
                <th scope="col">AUD</th>
                <th scope="col">USD</th>
                <th scope="col">EUR</th>
                <th scope="col">CNY</th>
                <th scope="col">KGS</th>
                <th scope="col">NOK</th>
                <th scope="col">UAH</th>
                <th scope="col">KRW</th>
                <th scope="col">JPY</th>
                <th scope="col">MXN</th>
            </tr>
        </thead>
        <tbody>
            {% for exchange_rate in exchange_rates %}
            <tr>
                <td scope="row">{{ exchange_rate.date }}</td>
                <td>{{ exchange_rate.aud }}</td>
                <td>{{ exchange_rate.usd }}</td>
                <td>{{ exchange_rate.eur }}</td>
                <td>{{ exchange_rate.cny }}</td>
                <td>{{ exchange_rate.kgs }}</td>
                <td>{{ exchange_rate.nok }}</td>
                <td>{{ exchange_rate.uah }}</td>
                <td>{{ exchange_rate.krw }}</td>
                <td>{{ exchange_rate.jpy }}</td>
                <td>{{ exchange_rate.mxn }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
<script>
    const dateValues = JSON.parse('{{ dates|safe }}');
    const audValues = JSON.parse('{{ aud|safe }}');
    const usdValues = JSON.parse('{{ usd|safe }}');
    const eurValues = JSON.parse('{{ eur|safe }}');
    const cnyValues = JSON.parse('{{ cny|safe }}');
    const kgsValues = JSON.parse('{{ kgs|safe }}');
    const nokValues = JSON.parse('{{ nok|safe }}');
    const uahValues = JSON.parse('{{ uah|safe }}');
    const krwValues = JSON.parse('{{ krw|safe }}');
    const jpyValues = JSON.parse('{{ jpy|safe }}');
    const mxnValues = JSON.parse('{{ mxn|safe }}');
    new Chart("myChart", {
        type: "line",
        data: {
            labels: dateValues,
            datasets: [{
                label: 'AUD',
                borderColor: "red",
                fill: false,
                data: audValues
            },{
                label: 'USD',
                borderColor: "green",
                fill: false,
                data: usdValues
            },{
                label: 'EUR',
                borderColor: "blue",
                fill: false,
                data: eurValues
            }]
        },
        options:{
            legend: {display: false},
        }
    });
</script>
</html>